/*!
 * NUO v0.1.2
 * (c) 2016 crossjs
 * Released under the MIT License.
 */
var nuo=function(){"use strict";function t(t){var n=this;if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("The first argument must be a function");this._s=null,this._v=null,this._p=null,this._d=[],u(t,function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];e.apply(n,t)},function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];o.apply(n,t)},function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];r.apply(n,t)})}function n(t){var n=this;return null===this._s?(this._d.push(t),void(t.onProgress&&null!==this._p&&setImmediate(function(){t.onProgress(n._p)}))):void setImmediate(function(){var e=n._s?t.onFulfilled:t.onRejected;if(null===e)return void(n._s?t.resolve:t.reject)(n._v);var o;try{o=e(n._v)}catch(n){return void t.reject(n)}t.resolve(o)})}function e(t){var n=this;try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var c=t.then;if("function"==typeof c)return void u(function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];c.apply(t,n)},function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];e.apply(n,t)},function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];o.apply(n,t)},function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];r.apply(n,t)})}this._s=!0,this._v=t,i.call(this)}catch(t){o.call(this,t)}}function o(t){this._s=!1,this._v=t,i.call(this)}function r(t){this._p=t,i.call(this,!0)}function i(t){for(var e=this,o=0,r=this._d.length;o<r;o++)n.call(e,e._d[o]);t||(this._d=null)}function c(t,n,e,o,r,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.onProgress="function"==typeof e?e:null,this.resolve=o,this.reject=r,this.notify=i}function u(t,n,e,o){var r=!1;try{t(function(t){r||(r=!0,n(t))},function(t){r||(r=!0,e(t))},function(t){r||o(t)})}catch(t){if(r)return;r=!0,e(t)}}return function(t,n){function e(t){var n=arguments;"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),o=0;o<e.length;o++)e[o]=n[o+1];var r={callback:t,args:e};return v[p]=r,h(p),p++}function o(t){delete v[t]}function r(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function i(t){if(d)setTimeout(i,0,t);else{var n=v[t];if(n){d=!0;try{r(n)}finally{o(t),d=!1}}}}function c(){h=function(t){process.nextTick(function(){i(t)})}}function u(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}function f(){var n="setImmediate$"+Math.random()+"$",e=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(n)&&i(+e.data.slice(n.length))};t.addEventListener?t.addEventListener("message",e,!1):t.attachEvent("onmessage",e),h=function(e){t.postMessage(n+e,"*")}}function s(){var t=new MessageChannel;t.port1.onmessage=function(t){var n=t.data;i(n)},h=function(n){t.port2.postMessage(n)}}function a(){var t=y.documentElement;h=function(n){var e=y.createElement("script");e.onreadystatechange=function(){i(n),e.onreadystatechange=null,t.removeChild(e),e=null},t.appendChild(e)}}function l(){h=function(t){setTimeout(i,0,t)}}if(!t.setImmediate){var h,p=1,v={},d=!1,y=t.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t,"[object process]"==={}.toString.call(t.process)?c():u()?f():t.MessageChannel?s():y&&"onreadystatechange"in y.createElement("script")?a():l(),g.setImmediate=e,g.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof global?void 0:global:self),t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(n){return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){throw e})})},t.prototype.progress=function(t){return this.then(null,null,t)},t.prototype.then=function(e,o,r){var i=this;return new t(function(t,u,f){n.call(i,new c(e,o,r,t,u,f))})},t.resolve=function(n){return n&&"object"==typeof n&&n.constructor===t?n:new t(function(t){return t(n)})},t.reject=function(n){return new t(function(t,e){return e(n)})},t.notify=function(n){return new t(function(t,e,o){return o(n)})},t.all=function(n){return new t(function(t,e,o){function r(c,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var f=u.then;if("function"==typeof f)return void f.call(u,function(t){r(c,t)},e,o)}n[c]=u,0===--i&&t(n)}catch(t){e(t)}}if(0===n.length)return t([]);for(var i=n.length,c=0;c<n.length;c++)r(c,n[c])})},t.race=function(n){return new t(function(e,o,r){for(var i=0,c=n.length;i<c;i++)t.resolve(n[i]).then(e,o,r)})},function(n){n.Promise=t}("undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),t}();